<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Color Picker</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>
  <body>
    <div>
      <label for="input_hex">Color:</label>
      <input id="input_hex" type="text" readonly />
    </div>
    <div id="select" style="
        width: 132px;
        height: 132px;
        background: #B94972;
        border-radius: 4px;">
    </div>
    <script>

      function color() {
        let color = d3.rgb(Math.random() * 255, Math.random() * 255, Math.random() * 255);
        d3.select("#select").style("background-color", color);
        
        //document.getElementById("select").style.background = color;
        document.getElementById("input_hex").value = color.formatHex();
        if (color.displayable()) {
          document.getElementById("input_hex").style.color = "#777777";
        } else {
          document.getElementById("input_hex").style.color = "red";
        }
      }

      // Call the color function to set the initial color
      color();
    </script>
  </body>
</html>
